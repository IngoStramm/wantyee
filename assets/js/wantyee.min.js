(()=>{"use strict";function c(){const t=document.getElementById("user_pass");if(t,t){const o=document.querySelectorAll(".meter-section");o.length<=0||t.addEventListener("input",()=>{var e=t,a=o;e=function(e){let a=0;a+=.2*e.length,/[A-Z]/.test(e)&&(a+=.5);/[a-z]/.test(e)&&(a+=.5);/\d/.test(e)&&(a+=.7);/[^A-Za-z0-9]/.test(e)&&(a+=1);return a}(e=e.value),a.forEach(e=>{e.classList.remove("weak","medium","strong","very-strong")}),1<=e&&a[0].classList.add("weak"),2<=e&&a[1].classList.add("medium"),3<=e&&a[2].classList.add("strong"),4<=e&&a[3].classList.add("very-strong")})}}function s(){var e=document.querySelectorAll(".wt-faq-group");Array.from(e).forEach(e=>{var a=e.querySelector(".wt-faq-group-list"),t=e.querySelectorAll(".list-group-item"),o=e.querySelector(".wt-group-new-item-btn");!t||t.length<=0?console.error("Não foi encontrado nenhum item da lista de perguntas e respostas (FAQ)."):a?o?(t=o,(o=(a=e).querySelector(".wt-faq-group-list"))?t.addEventListener("click",function(e,a,t){t.preventDefault();var t=document.createElement("li"),o=(t.classList.add("wt-faq-group-item"),t.classList.add("list-group-item"),t.id="wt-faq-group-item-",t.dataset.faqGroupItemId="",document.createElement("label")),o=(o.setAttribute("for","anuncio_faq-pergunta-"),o.classList.add("form-label"),o.innerText="Pergunta",t.append(o),document.createElement("input")),o=(o.setAttribute("type","text"),o.classList.add("form-control"),o.id="anuncio_faq-pergunta-",o.name="anuncio_faq-perguntas[]",t.append(o),document.createElement("label")),o=(o.setAttribute("for","anuncio_faq-resposta-"),o.classList.add("form-label"),o.innerText="Resposta",t.append(o),document.createElement("textarea")),o=(o.setAttribute("type","text"),o.classList.add("form-control"),o.id="anuncio_faq-resposta-",o.name="anuncio_faq-respostas[]",t.append(o),document.createElement("div")),o=(o.classList.add("invalid-feedback"),o.innerText="Campo obrigatório",t.append(o),document.createElement("div")),n=(o.classList.add("d-flex"),document.createElement("a"));n.classList.add("wt-delete-faq-group"),n.classList.add("btn"),n.classList.add("btn-danger"),n.classList.add("btn-sm"),n.classList.add("mt-2"),n.classList.add("ms-auto"),n.innerHTML='<i class="bi bi-x-circle-fill"></i> Remover item',o.append(n),t.append(o),e.append(t),l(a),r(a)}.bind(null,o,a)):console.error("Não foi encontrado a lista de itens de perguntas e respostas (FAQ)."),l(e)):console.error("Não foi encontrado o botão para adicionar novos itens na lista de perguntas e respostas (FAQ)."):console.error("Não foi encontrado a lista de itens de perguntas e respostas (FAQ).")})}function r(e){var a=e.querySelector(".wt-faq-group-list"),e=e.querySelectorAll(".list-group-item");if(!e||e.length<=0)console.error("Não foi encontrado nenhum item da lista de perguntas e respostas (FAQ).");else{if(a)return Array.from(e).forEach((e,a)=>{const t="anuncio_faq-pergunta-"+(e.dataset.faqGroupItemId=a),o="anuncio_faq-resposta-"+a;var n=e.querySelectorAll("label"),r=e.querySelectorAll("input"),e=e.querySelectorAll("textarea");n.forEach((e,a)=>{0===a?e.setAttribute("for",t):e.setAttribute("for",o)}),r.forEach((e,a)=>{0===a&&(e.id=t)}),e.forEach((e,a)=>{0===a&&(e.id=o)}),console.log("i",a)}),console.log("items.length",e.length),e.length;console.error("Não foi encontrado a lista de itens de perguntas e respostas (FAQ).")}}function l(a){var e=document.querySelectorAll(".wt-delete-faq-group");Array.from(e).forEach(e=>{e.removeEventListener("click",t),e.addEventListener("click",t.bind(null,a))})}function t(e,a){a.preventDefault();var e=r(e),a=a.target.closest(".wt-faq-group-item");1<e?a.remove():(e=a.querySelector("input"),a=a.querySelector("textarea"),e.value="",a.value="")}function i(e,a,t){console.log(a);var o=document.createElement("div");o.innerHTML=[`<div id="contact-form-alert" class="alert alert-${t} alert-dismissible" role="alert">`,`   <div>${a}</div>`,'   <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>',"</div>"].join(""),e.append(o)}function d(){function l(e,a){return[parseInt(e.value,10),parseInt(a.value,10)]}function c(e,a,t,o,n){var r=a.max-a.min,e=e.value-a.min,a=a.value-a.min;n.style.background=`linear-gradient(
      to right,
      ${t} 0%,
      ${t} ${e/r*100}%,
      ${o} ${e/r*100}%,
      ${o} ${a/r*100}%, 
      ${t} ${a/r*100}%, 
      ${t} 100%)`}function s(e){var a=document.querySelector("#toSlider");Number(e.value)<=0?a.style.zIndex=2:a.style.zIndex=0}const i=document.querySelector("#fromSlider"),d=document.querySelector("#toSlider"),u=document.querySelector("#fromInput"),m=document.querySelector("#toInput");i,i&&(d,d)&&(u,u)&&(m,m)&&(c(i,d,"#C6C6C6","#25daa5",d),s(d),i.oninput=()=>{var e=i,a=d,t=u,[o,n]=l(e,a);c(e,a,"#C6C6C6","#25daa5",a),n<o?(e.value=n,t.value=n):t.value=o},d.oninput=()=>{var e=i,a=d,t=m,[o,n]=l(e,a);c(e,a,"#C6C6C6","#25daa5",a),s(a),o<=n?(a.value=n,t.value=n):(t.value=o,a.value=o)},u.oninput=()=>{var e=i,a=u,t=m,o=d,[n,r]=l(a,t);c(a,t,"#C6C6C6","#25daa5",o),r<n?(e.value=r,a.value=r):e.value=n},m.oninput=()=>{var e=d,a=u,t=m,o=d,[n,r]=l(a,t);c(a,t,"#C6C6C6","#25daa5",o),s(t),n<=r?(e.value=r,t.value=r):t.value=n})}function u(e){const t=[];return e.forEach(e=>{let a=o();for(;t.includes(a);)a=o();t.push(o())}),t}function o(){for(var e="#",a=0;a<6;a++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e}function m(){var e,a,t,o,n,r,l,c;ajax_object.anuncios_ativos,ajax_object.anuncios_ativos&&(ajax_object.anuncios_encerrados,ajax_object.anuncios_encerrados)&&(a=[ajax_object.anuncios_ativos,ajax_object.anuncios_encerrados],e=u([ajax_object.anuncios_ativos,ajax_object.anuncios_encerrados]),new Chart("chart-total-anuncios",{type:"pie",data:{labels:["Ativos","Encerrados"],datasets:[{backgroundColor:e,data:a}]}})),ajax_object.min_price,ajax_object.min_price&&(ajax_object.max_price,ajax_object.max_price)&&(ajax_object.media_price,ajax_object.media_price)&&(e=[ajax_object.min_price,ajax_object.max_price,ajax_object.media_price],a=u([ajax_object.min_price,ajax_object.max_price,ajax_object.media_price]),new Chart("chart-valores-anuncios",{type:"bar",data:{labels:["Mínimo","Máximo","Médio"],datasets:[{data:e,backgroundColor:a}]},options:{plugins:{legend:{display:!1}}}})),ajax_object.total_compradores,ajax_object.total_compradores&&(ajax_object.total_vendedores,ajax_object.total_vendedores)&&(o=[ajax_object.total_compradores,ajax_object.total_vendedores],t=u([ajax_object.total_compradores,ajax_object.total_vendedores]),new Chart("chart-total-usuarios",{type:"pie",data:{labels:["Compradores","Vendedores"],datasets:[{backgroundColor:t,data:o}]}})),ajax_object.nomes_cat,ajax_object.nomes_cat&&(ajax_object.cat_minvalues,ajax_object.cat_minvalues)&&(t=ajax_object.nomes_cat,o=ajax_object.cat_minvalues,n=u(ajax_object.nomes_cat),new Chart("chart-categorias-minval",{type:"bar",data:{labels:t,datasets:[{data:o,backgroundColor:n}]},options:{indexAxis:"y",plugins:{legend:{display:!1}}}})),ajax_object.nomes_cat,ajax_object.nomes_cat&&(ajax_object.cat_maxvalues,ajax_object.cat_maxvalues)&&(n=ajax_object.nomes_cat,r=ajax_object.cat_maxvalues,l=u(ajax_object.nomes_cat),new Chart("chart-categorias-maxval",{type:"bar",data:{labels:n,datasets:[{data:r,backgroundColor:l}]},options:{indexAxis:"y",plugins:{legend:{display:!1}}}})),ajax_object.nomes_cat,ajax_object.nomes_cat&&(ajax_object.cat_midvalues,ajax_object.cat_midvalues)&&(r=ajax_object.nomes_cat,l=ajax_object.cat_midvalues,c=u(ajax_object.nomes_cat),new Chart("chart-categorias-midval",{type:"bar",data:{labels:r,datasets:[{data:l,backgroundColor:c}]},options:{indexAxis:"y",plugins:{legend:{display:!1}}}}))}document.addEventListener("DOMContentLoaded",function(){var e,a,t,o,n,r,l;r=document.querySelectorAll(".needs-validation"),Array.from(r).forEach(a=>{a.addEventListener("submit",e=>{a.checkValidity()||(e.preventDefault(),e.stopPropagation()),a.classList.add("was-validated")},!1)}),c(),r=document.querySelectorAll('input[type="file"]'),Array.from(r).forEach(e=>{e.onchange=function(){2097152<this.files[0].size&&(alert("O arquivo é muito pesado, o tamanho máximo permitido é de 2MB."),this.value="")}}),r=document.querySelectorAll(".toast"),Array.from(r).forEach(e=>{console.log("toasts"),bootstrap.Toast.getOrCreateInstance(e).show()}),(r=document.getElementById("user_phone"))&&IMask(r,{mask:"(00) 0000-0000[0]"}),(r=document.getElementById("user_whatsapp"))&&IMask(r,{mask:"(00) 0000-00000"}),r=document.querySelectorAll(".go-back-btn"),Array.from(r).forEach(e=>{e.addEventListener("click",e=>{e.preventDefault(),history.back()})}),s(),[...document.querySelectorAll('[data-bs-toggle="tooltip"]')].map(e=>new bootstrap.Tooltip(e)),document.querySelectorAll(".wt-file-image-preview").forEach(e=>{const a=e.querySelector('input[type="file"]'),t=e.querySelector(".image-preview"),o=e.querySelector(".btn-clear-image"),n=e.querySelector('input[name="changed-thumbnail"]');o.addEventListener("click",e=>{e.preventDefault(),a.value=null,t.src="",o.style.display="none",n.value="true",console.log("changedThumbnail",n.value)}),a.addEventListener("change",e=>{t.src=URL.createObjectURL(event.target.files[0]),o.style.display="block",n.value="true",console.log("changedThumbnail",n.value)}),console.log("imagePreview",t.src),console.log("changedThumbnail",n.value),console.log("fileInput",a.value)}),e={...r={page:10,pagination:[{item:'<li class="page-item"><a class="page page-link"></a></li>'}]},valueNames:["titulo","data","status"]},a={...r,valueNames:["nome","email","titulo","data"]},t={...r,valueNames:["nome","categorias","titulo","data"]},o={...r,valueNames:["titulo","nome","data","status"]},n={...r,valueNames:["nome"],page:10},r={...r,valueNames:["order","nome","minval","maxval","midval"],page:10},l=document.getElementById("table-anuncios"),new List(l,e),l=document.getElementById("table-leads"),new List(l,a),e=document.getElementById("table-following-terms-anuncios"),new List(e,t),l=document.getElementById("table-contacted-anuncios"),new List(l,o),a=document.getElementById("table-following-cat-produtos"),new List(a,n),e=document.getElementById("table-cat-produtos"),new List(e,n),t=document.getElementById("table-relatorio-cat"),new List(t,r),document.querySelectorAll(".clear-input-value").forEach(a=>{a.addEventListener("click",e=>{e.preventDefault();e=document.getElementById(a.dataset.input);e&&(e.value="")})}),document.querySelectorAll(".wt-contact-form").forEach(s=>{s.addEventListener("submit",e=>{if(e.preventDefault(),document.getElementById("contact-form-alert"),document.getElementById("contact-form-alert")&&bootstrap.Alert.getOrCreateInstance("#contact-form-alert").close(),s.checkValidity()){s.classList.add("was-validated");const t=s.querySelector("#nome"),o=s.querySelector("#email"),n=s.querySelector("#mensagem"),r=s.querySelector("button");if(r,r&&!r.disabled){r.disabled=!0;const l=r.innerText;r.innerText="Enviando...";var e=ajax_object.ajax_url,a=new FormData(s);a.get("action");const c=document.getElementById("contact-form-alert-placeholder");fetch(e,{method:"POST",body:a}).then(e=>e.json()).then(e=>{i(c,e.data.msg,"success"),t.value="",o.value="",n.value=""}).catch(e=>{console.error(e),i(c,e,"danger")}).finally(()=>{r.disabled=!1,r.innerText=l,s.classList.remove("was-validated")})}}})}),d(),m()},!1)})();